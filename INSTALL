Installation of the dependance

$ apt-get install python-flup python-pip rabbitmq-server
$ pip install flask flask-login flask-wtf flask-sqlalchemy restclient wtforms-json flask-principal Flask-Babel Flask-Script Yapsy Celery

You need to execute the run.py to create the database.

$ python ./run.py initdb

for launch

$ python ./run.py run

and for launching celery

$ python ./runcelery.py worker

Important note, the DEBUG settings in conf.py need to be true for the moment because we use the reload system from flask in debug mode for the market.

For configuration with nginx, please install uwsgi 1.9 min and supervisor

$ apt-get install supervisor nginx

To compile uwsgi you need

$ apt-get install libc-dev gcc python-dev

$ pip install uwsgi


Clean 

$ apt-get remove --purge libc-dev-bin libc6-dev linux-libc-dev gcc libexpat1-dev libssl-dev python-dev python2.7-dev zlib1g-dev

Config file

Copy sources into /usr/share/nginx/www/xivo-webi

$ cp SOURCES /usr/share/nginx/www/
$ chown www-data.www-data /usr/share/nginx/www/xivo-webi -R

Nginx :

$ cd SOURCES/conf/nginx
$ cp xivo /etc/nginx/sites-available/
$ mkdir /etc/nginx/ssl
$ cp server* /etc/nginx/ssl
$ ln -s /etc/nginx/sites-available/xivo /etc/nginx/sites-enabled/xivo
$ service nginx restart

Supervisor :

$ cd SOURCES/conf/supervisor
$ cp * /etc/supervisor/conf.d/
$ service supervisor stop
$ service supervisor start
